{erl_opts, [debug_info, warnings_as_errors]}.

{deps, [
    {cowboy, "2.12.0"},
    {hackney, "1.20.1"},
    {reckon_db, "1.3.2"},
    {evoq, "1.3.1"},
    {reckon_evoq, "1.1.4"}
]}.

{src_dirs, [
    "src",
    "src/detect_llms",
    "src/chat_to_llm",
    "src/check_llm_health",
    "src/get_available_llms_page",
    "src/manage_providers",
    "src/report_llm_status"
]}.

{relx, [
    {release, {hecate_app_llmd, "0.1.0"}, [
        hecate_app_llmd,
        reckon_db, evoq, reckon_evoq,
        sasl
    ]},
    {mode, dev},
    {dev_mode, true},
    {include_erts, false},
    {extended_start_script, true},
    {sys_config, "config/sys.config"},
    {vm_args, "config/vm.args"}
]}.

{profiles, [
    {prod, [{relx, [{mode, prod}, {dev_mode, false}, {include_erts, true}]}]},
    {test, [{deps, [{meck, "0.9.2"}]}]}
]}.

{project_plugins, [rebar3_ex_doc]}.
{ex_doc, [
    {source_url, <<"https://github.com/hecate-social/hecate-app-llm">>},
    {extras, [<<"README.md">>]},
    {main, <<"README.md">>}
]}.
{hex, [{doc, ex_doc}]}.

{dialyzer, [
    {warnings, [error_handling]},
    {plt_extra_apps, [cowboy, cowlib, ranch, hackney, reckon_evoq, evoq]},
    {exclude_apps, [reckon_db, reckon_gater, khepri, ra, horus, aten, seshat, gen_batch_server]}
]}.
